import{A as z,B as I,C as H,D as G,E as K,F as Q,G as W,H as f,I as X,J as Y,K as Z,O as V,Q as ee,R as D,V as R,W as S,X as b,Z as te,a as L,b as j,c as w,d as M,e as N,f as v,g,h as B,i as O,j as $,k as U,l as E,m as k,n as A,o as c,p as u,q as h,r as s,s as a,t as r,u as m,v as q,w as C,x as d,y as J,z as p}from"./chunk-OR3L2T76.js";var y=(()=>{let e=class e{constructor(i){this.httpClient=i,this.apiUrl="https://restcountries.com/v3.1",this.cacheStorage={byCapital:{valueSearched:"",countries:[]},byCountry:{valueSearched:"",countries:[]},byRegion:{valueSearched:"",countries:[]}},this.getFromLocalStorage()}saveInLocalStorage(){localStorage.setItem("cacheStorage",JSON.stringify(this.cacheStorage))}getFromLocalStorage(){localStorage.getItem("cacheStorage")&&(this.cacheStorage=JSON.parse(localStorage.getItem("cacheStorage")))}getCountriesRequest(i){return this.httpClient.get(i).pipe(w(()=>L([])),M(2e3))}searchCountryByCode(i){return this.httpClient.get(`${this.apiUrl}/alpha/${i}`).pipe(j(n=>n.length>0?n[0]:null))}searchByCapital(i){let n=`${this.apiUrl}/capital/${i}`;return this.getCountriesRequest(n).pipe(v(o=>this.cacheStorage.byCapital={valueSearched:i,countries:o}),v(()=>this.saveInLocalStorage()))}searchByCountry(i){let n=`${this.apiUrl}/name/${i}`;return this.getCountriesRequest(n).pipe(v(o=>this.cacheStorage.byCountry={valueSearched:i,countries:o}),v(()=>this.saveInLocalStorage()))}searchByRegion(i){return this.httpClient.get(`${this.apiUrl}/region/${i}`).pipe(w(()=>L([])),v(n=>this.cacheStorage.byRegion={valueSearched:i,countries:n}),v(()=>this.saveInLocalStorage()))}};e.\u0275fac=function(n){return new(n||e)(k(Z))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function le(t,e){t&1&&m(0,"app-loader")}function me(t,e){if(t&1&&m(0,"app-countries-table",5),t&2){let l=d();s("countries",l.countries)}}var oe=(()=>{let e=class e{constructor(i){this.countryService=i,this.countries=[],this.isLoading=!1,this.lastSearchedTerm=""}ngOnInit(){this.countries=this.countryService.cacheStorage.byCapital.countries,this.lastSearchedTerm=this.countryService.cacheStorage.byCapital.valueSearched}searchByCapital(i){this.isLoading=!0,this.countryService.searchByCapital(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(u(y))},e.\u0275cmp=g({type:e,selectors:[["app-by-capital-page"]],decls:10,vars:4,consts:[[1,"row"],[1,"col"],[3,"input_placeholder","input_value","onDebounce"],[4,"ngIf"],[3,"countries",4,"ngIf"],[3,"countries"]],template:function(n,o){n&1&&(a(0,"h2"),p(1,"Por capital"),r(),m(2,"hr"),a(3,"div",0)(4,"div",1)(5,"app-search-box",2),C("onDebounce",function(T){return o.searchByCapital(T)}),r()()(),a(6,"div",0)(7,"div",1),h(8,le,1,0,"app-loader",3)(9,me,1,1,"app-countries-table",4),r()()),n&2&&(c(5),s("input_placeholder","Buscar por capital")("input_value",o.lastSearchedTerm),c(3),s("ngIf",o.isLoading),c(),s("ngIf",!o.isLoading))},dependencies:[f,R,S,b]});let t=e;return t})();function ue(t,e){t&1&&m(0,"app-loader")}function de(t,e){if(t&1&&m(0,"app-countries-table",5),t&2){let l=d();s("countries",l.countries)}}var re=(()=>{let e=class e{constructor(i){this.countryService=i,this.countries=[],this.isLoading=!1,this.lastSearchedTerm=""}ngOnInit(){this.countries=this.countryService.cacheStorage.byCountry.countries,this.lastSearchedTerm=this.countryService.cacheStorage.byCountry.valueSearched}searchByCountry(i){this.isLoading=!0,this.countryService.searchByCountry(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(u(y))},e.\u0275cmp=g({type:e,selectors:[["app-by-country-page"]],decls:10,vars:4,consts:[[1,"row"],[1,"col"],[3,"input_placeholder","input_value","onDebounce"],[4,"ngIf"],[3,"countries",4,"ngIf"],[3,"countries"]],template:function(n,o){n&1&&(a(0,"h2"),p(1,"Por Pa\xEDs"),r(),m(2,"hr"),a(3,"div",0)(4,"div",1)(5,"app-search-box",2),C("onDebounce",function(T){return o.searchByCountry(T)}),r()()(),a(6,"div",0)(7,"div",1),h(8,ue,1,0,"app-loader",3)(9,de,1,1,"app-countries-table",4),r()()),n&2&&(c(5),s("input_placeholder","Buscar por pa\xEDs")("input_value",o.lastSearchedTerm),c(3),s("ngIf",o.isLoading),c(),s("ngIf",!o.isLoading))},dependencies:[f,R,S,b]});let t=e;return t})();function he(t,e){if(t&1){let l=q();a(0,"button",7),C("click",function(){let o=O(l).$implicit,x=d();return $(x.searchByRegion(o))}),p(1),r()}if(t&2){let l=e.$implicit,i=d();s("ngClass",l==i.selectedRegion?"btn-success":"btn-light"),c(),I(" ",l," ")}}function ge(t,e){t&1&&m(0,"app-loader")}function fe(t,e){if(t&1&&m(0,"app-countries-table",8),t&2){let l=d();s("countries",l.countries)}}var ae=(()=>{let e=class e{constructor(i){this.countryService=i,this.countries=[],this.isLoading=!1,this.regions=["Africa","Americas","Asia","Europe","Oceania"],this.selectedRegion=""}ngOnInit(){this.selectedRegion=this.countryService.cacheStorage.byRegion.valueSearched,this.countries=this.countryService.cacheStorage.byRegion.countries}searchByRegion(i){this.selectedRegion=i,this.isLoading=!0,this.countryService.searchByRegion(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(u(y))},e.\u0275cmp=g({type:e,selectors:[["app-by-region-page"]],decls:10,vars:3,consts:[[1,"row","mb-4"],[1,"col","text-center"],["class","btn mx-2 btn",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[4,"ngIf"],[3,"countries",4,"ngIf"],[1,"btn","mx-2","btn",3,"ngClass","click"],[3,"countries"]],template:function(n,o){n&1&&(a(0,"h2"),p(1,"Por Regi\xF3n"),r(),m(2,"hr"),a(3,"div",0)(4,"div",1),h(5,he,2,2,"button",2),r()(),a(6,"div",3)(7,"div",4),h(8,ge,1,0,"app-loader",5)(9,fe,1,1,"app-countries-table",6),r()()),n&2&&(c(5),s("ngForOf",o.regions),c(3),s("ngIf",o.isLoading),c(),s("ngIf",!o.isLoading))},dependencies:[Q,W,f,S,b]});let t=e;return t})();function ye(t,e){t&1&&(a(0,"div",2),p(1," Espere por favor "),r())}function ve(t,e){if(t&1&&(a(0,"div")(1,"div",3)(2,"div",4)(3,"h2")(4,"b"),p(5),r()()()(),a(6,"div",3)(7,"div",5)(8,"h4"),p(9,"Bandera"),r(),m(10,"img",6),r(),a(11,"div",7)(12,"h4"),p(13,"Informaci\xF3n"),r(),a(14,"ul",8)(15,"li",9)(16,"b"),p(17,"Poblaci\xF3n"),r(),p(18),H(19,"number"),r(),a(20,"li",9)(21,"b"),p(22,"C\xF3digo"),r(),p(23),r()()()()()),t&2){let l=d();c(5),z(l.country.name.common),c(5),s("src",l.country.flags.svg,A),c(8),I(" ",G(19,4,l.country.population)," "),c(5),I(" ",l.country.cca3," ")}}var ce=(()=>{let e=class e{constructor(i,n,o){this.activatedRoute=i,this.countryService=n,this.router=o}ngOnInit(){this.activatedRoute.params.pipe(N(({id:i})=>this.countryService.searchCountryByCode(i))).subscribe(i=>i?this.country=i:this.router.navigateByUrl(""))}};e.\u0275fac=function(n){return new(n||e)(u(V),u(y),u(ee))},e.\u0275cmp=g({type:e,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["noCountry",""],[4,"ngIf","ngIfElse"],[1,"alert"],[1,"row"],[1,"col-12"],[1,"col-4"],["width","200","height","100",3,"src"],[1,"col"],[1,"list-group"],[1,"list-group-item"]],template:function(n,o){if(n&1&&h(0,ye,2,0,"ng-template",null,0,K)(2,ve,24,6,"div",1),n&2){let x=J(1);c(2),s("ngIf",o.country)("ngIfElse",x)}},dependencies:[f,X]});let t=e;return t})();var Ce=[{path:"by-capital",component:oe},{path:"by-country",component:re},{path:"by-region",component:ae},{path:"by/:id",component:ce},{path:"**",redirectTo:"by-capital"}],se=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=B({type:e}),e.\u0275inj=E({imports:[D.forChild(Ce),D]});let t=e;return t})();var He=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=B({type:e}),e.\u0275inj=E({imports:[Y,se,te]});let t=e;return t})();export{He as CountriesModule};
